<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NeurAloud</title>
  <link rel="stylesheet" href="style.css"/>
  <meta name="description" content="ğŸ’ªğŸ“šğŸ§ = Empowering minds through books and sound"/>
  <link rel="manifest" href="manifest.json"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <span class="logo-title">NeurAloud</span>
    <nav>
      <button onclick="navigate('home')">Home</button>
      <button onclick="navigate('library')">Library</button>
      <button onclick="navigate('listen')">Listen</button>
      <button onclick="navigate('capture')">Capture</button>
      <button onclick="navigate('store')">Store</button>
      <button onclick="navigate('profile')">âš™</button>
    </nav>
  </header>

  <main>
    <!-- Home Section -->
    <section id="home" class="active-section">
          <div class="quad-container">
               <div class="quad-card">
                    <h3>ğŸ“š Upload a Document</h3>
                    <p>Bring your own files (PDF, EPUB, DOCX, etc.)</p>
                    <button onclick="navigate('upload')">Upload Now</button>
               </div>
               <div class="quad-card">
                    <h3>ğŸ”Š Listen Instantly</h3>
                    <p>Start reading any document with your favorite voice</p>
                    <button onclick="navigate('listen')">Start Listening</button>
               </div>
               <div class="quad-card">
                    <h3>ğŸŒ Live Capture</h3>
                    <p>Listen to websites, articles, or your environment</p>
                    <button onclick="navigate('capture')">Capture Audio</button>
               </div>
               <div class="quad-card">
                    <h3>ğŸ›ï¸ Explore Store</h3>
                    <p>Find premium voices, avatars & add-ons</p>
                    <button onclick="navigate('store')">Visit Store</button>
               </div>
          </div>

          <div class="reward-container">
               <h2>ğŸ† Your Rewards</h2>
               <div class="rewards">
                    <div class="reward-card">
                         <h4>5-day Streak</h4>
                         <p>You've earned 50 XP</p>
                    </div>
                    <div class="reward-card">
                         <h4>Top Listener</h4>
                         <p>3 hours this week</p>
                    </div>
                    <div class="reward-card">
                         <h4>Explorer</h4>
                         <p>Tried 4 new voices</p>
                    </div>
               </div>
          </div>

          <div class="continue-listening">
               <h3>â¯ï¸ Continue Listening</h3>
               <div class="horizontal-scroll" id="continue-slider">
                    <div class="doc-card">
                         <p>ğŸ“„ Book1.pdf</p>
                         <button onclick="loadFromLibrary('Book1.pdf')">Resume</button>
                    </div>
                    <div class="doc-card">
                         <p>ğŸ“„ Research.epub</p>
                         <button onclick="loadFromLibrary('Research.epub')">Resume</button>
                    </div>
               </div>
          </div>

          <div class="recently-played">
               <h3>ğŸ§ Recently Played</h3>
               <ul id="recent-files">
                    <li>Book1.pdf - 3m ago</li>
                    <li>Article2.txt - 12m ago</li>
                    <li>Speech.mp3 - 2h ago</li>
               </ul>
          </div>

          <div class="recommended-section">
               <h3>ğŸŒŸ Recommended for You</h3>
               <ul id="recommend-list">
                    <li>ğŸ§  "7 Habits of Highly Effective People"</li>
                    <li>ğŸ“˜ "Deep Work" by Cal Newport</li>
                    <li>ğŸ™ï¸ "Neural Narratives" - Podcast Series</li>
               </ul>
          </div>

          <div class="achievement-section">
               <h3>ğŸ… Achievements</h3>
               <ul id="achievement-list">
                    <li>ğŸ“… 7-Day Streak Badge</li>
                    <li>ğŸ—£ï¸ 1000 Minutes Listened</li>
                    <li>ğŸ“š 10 Books Completed</li>
               </ul>
          </div>
    </section>

    <!-- Listen Section -->
    <section id="listen" class="section">
          <h2>ğŸ”Š Listen</h2>

          <!-- ğŸ› TTS Engine and Voice Dropdowns -->
          <div class="tts-controls">
               <label for="tts-engine">ğŸ§  TTS Engine:</label>
               <select id="tts-engine">
                    <option value="google">Google</option>
                    <option value="ibm">IBM</option>
                    <option value="responsiveVoice">ResponsiveVoice</option>
               </select>

               <label for="voice-select">ğŸ¤ Voice:</label>
               <select id="voice-select"></select>
          </div>

          <!-- ğŸš Playback Buttons -->
          <div class="playback-controls">
               <button id="play-btn">â–¶ï¸ Play</button>
               <button id="pause-btn">â¸ Pause</button>
               <button id="stop-btn">â¹ Stop</button>
               <button id="loop-btn">ğŸ” Loop</button>
          </div>

          <!-- ğŸ§ Save + Speed + Pitch -->
          <div class="save-controls">
               <button id="save-to-library">ğŸ’¾ Save to Library</button>

               <label for="rate-slider">âš¡ Speed:</label>
               <input type="range" id="rate-slider" min="0.5" max="2" step="0.01">
               <span id="rate-value">1.00</span>

               <label for="pitch-slider">ğŸš Pitch:</label>
               <input type="range" id="pitch-slider" min="0.5" max="2" step="0.01">
               <span id="pitch-value">1.00</span>
          </div>

          <!-- ğŸ“š Document Display Area -->
          <div id="text-display" class="text-display" style="min-height: 200px; border: 1px solid #ccc; padding: 10px; margin-top: 10px; overflow-y: auto;"></div>

          <!-- ğŸµ Playlist Panel -->
          <div id="playback-queue-container">
               <h3>ğŸ“ Playback Queue</h3>
               <ul id="playback-queue"></ul>
               <button id="play-all">â–¶ï¸ Play All</button>
               <button id="export-txt">ğŸ“„ Export TXT</button>
               <button id="export-json">ğŸ§¾ Export JSON</button>
          </div>

          <!-- ğŸ“¥ Upload New Document -->
          <div class="upload-area">
               <label for="file-input" class="file-label">ğŸ“¤ Choose File</label>
               <input type="file" id="file-input" accept=".pdf,.epub,.txt,.docx,.doc,.pptx,.csv,.rtf,.msg,.sql,.webp,.png,.jpeg,.jpg,.bmp,.tif,.eps,.tmp" />
          </div>

          <!-- ğŸ’¬ Sentence Navigation -->
          <div class="sentence-nav">
               <button id="prev-sentence">â® Prev</button>
               <button id="next-sentence">â­ Next</button>
          </div>
    </section>
    
    <!-- Capture Section -->
    <section id="capture" class="section">
          <h2>ğŸŒ Live Capture</h2>

          <!-- ğŸ› TTS Engine and Voice Selection -->
          <div class="tts-controls">
               <label for="tts-engine-capture">ğŸ§  TTS Engine:</label>
               <select id="tts-engine-capture">
                    <option value="google">Google</option>
                    <option value="ibm">IBM</option>
                    <option value="responsiveVoice">ResponsiveVoice</option>
               </select>

               <label for="voice-select-capture">ğŸ¤ Voice:</label>
               <select id="voice-select-capture"></select>
          </div>

          <!-- ğŸš Playback Controls -->
          <div class="playback-controls">
               <button id="play-capture-btn">â–¶ï¸ Play</button>
               <button id="pause-capture-btn">â¸ Pause</button>
               <button id="stop-capture-btn">â¹ Stop</button>
               <button id="loop-capture-btn">ğŸ” Loop</button>
          </div>

          <!-- ğŸ’¾ Save & Sliders -->
          <div class="save-controls">
               <button id="save-capture">ğŸ’¾ Save to Library</button>

               <label for="rate-capture-slider">âš¡ Speed:</label>
               <input type="range" id="rate-capture-slider" min="0.5" max="2" step="0.01">
               <span id="rate-capture-value">1.00</span>

               <label for="pitch-capture-slider">ğŸš Pitch:</label>
               <input type="range" id="pitch-capture-slider" min="0.5" max="2" step="0.01">
               <span id="pitch-capture-value">1.00</span>
          </div>

          <!-- ğŸ™ï¸ Captured Text Area -->
          <div id="capture-display" class="text-display" style="min-height: 200px; background-color: #f5f5f5; border: 1px solid #ccc; padding: 10px; margin-top: 10px; overflow-y: auto;"></div>


          <!-- ğŸ§ Capture Metadata -->
          <div class="capture-controls">
               <label for="capture-language">ğŸŒ Capture Language:</label>
               <select id="capture-language">
                    <option value="auto">Auto Detect</option>
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                    <option value="pt">Portuguese</option>
                    <option value="zh">Chinese</option>
                    <option value="ar">Arabic</option>
                    <!-- Add more as needed -->
               </select>

               <label for="read-language">ğŸ—£ï¸ Read Language:</label>
               <select id="read-language">
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                    <option value="pt">Portuguese</option>
                    <option value="zh">Chinese</option>
                    <option value="ar">Arabic</option>
                    <!-- Add more as needed -->
               </select>

               <label>
                    <input type="checkbox" id="capture-translate"> Translate Before Reading
               </label>
          </div>

          <!-- ğŸ¤ Capture Activation -->
          <div class="capture-actions">
               <button id="start-capture">ğŸ¤ Start Listening</button>
               <button id="stop-capture">ğŸ›‘ Stop Listening</button>
               <p id="capture-status">ğŸ”ˆ Status: Idle</p>
          </div>
    </section>

    <!-- Store Section -->
    <section id="store" class="section">
      <h2>ğŸ›ï¸ NeurAloud Store</h2>
      <p>Coming soon: premium voices, languages, and tools!</p>
    </section>

     <!-- Settings Section -->
    <section id="profile" class="section">
          <h2>âš™ï¸ Settings</h2>

          <!-- ğŸ¨ Theme Selector -->
          <div class="settings-group">
               <label for="theme-select">ğŸ¨ Theme:</label>
               <select id="theme-select">
                    <option value="light">Light Mode</option>
                    <option value="dark">Dark Mode</option>
                    <option value="blue">Blue Mode</option>
                    <option value="royal">Royal Mode</option>
                    <option value="gray">Gray Mode</option>
               </select>
               <button onclick="toggleMode()">ğŸŒ“ Toggle Mode</button>
          </div>

          <!-- ğŸ—£ï¸ Voice Avatar Selection -->
          <div class="settings-group">
               <label for="voice-avatar">ğŸ—£ï¸ Voice Avatar:</label>
               <select id="voice-avatar">
                    <option value="default">Default</option>
                    <option value="warm-male">Warm Male</option>
                    <option value="bright-female">Bright Female</option>
                    <option value="robotic-ai">Robotic AI</option>
                    <option value="calm-deep">Calm Deep</option>
               </select>
          </div>

          <!-- ğŸ”Š Pitch & Rate Sliders -->
          <div class="settings-group">
               <label for="pitch-slider">ğŸšï¸ Pitch:</label>
               <input type="range" id="pitch-slider" min="0.5" max="2" step="0.01" value="1">
               <span id="pitch-value">1.00</span>
          </div>
          <div class="settings-group">
               <label for="rate-slider">âš¡ Speed:</label>
               <input type="range" id="rate-slider" min="0.5" max="2" step="0.01" value="1">
               <span id="rate-value">1.00</span>
          </div>

          <!-- ğŸ” Playback Controls -->
          <div class="settings-group">
               <h3>ğŸ” Playback Options</h3>
               <label><input type="checkbox" id="loop-toggle"> Loop Playback</label><br/>
               <label><input type="checkbox" id="auto-resume"> Auto Resume</label>
          </div>

          <!-- ğŸŒ Language Preferences -->
          <div class="settings-group">
               <h3>ğŸŒ Language Preferences</h3>
               <label for="lang-read">Read in:</label>
               <select id="lang-read">
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                    <option value="pt">Portuguese</option>
                    <option value="sw">Swahili</option>
                    <option value="ar">Arabic</option>
                    <option value="zh">Chinese</option>
                    <option value="jp">Japanese</option>
               </select>

               <label for="lang-translate">Translate to:</label>
               <select id="lang-translate">
                    <option value="none">None</option>
                    <option value="en">English</option>
                    <option value="fr">French</option>
                    <option value="es">Spanish</option>
                    <option value="pt">Portuguese</option>
                    <option value="sw">Swahili</option>
                    <option value="ar">Arabic</option>
                    <option value="zh">Chinese</option>
                    <option value="jp">Japanese</option>
               </select>

               <label><input type="checkbox" id="enable-translation"> ğŸŒ Enable Translation</label>
          </div>

          <!-- ğŸ“ˆ Listening Stats -->
          <div class="settings-group">
               <h3>ğŸ“ˆ Listening Stats</h3>
               <p>Total Listening Time: <span id="total-listening">0h 0m</span></p>
               <p>Chapters Completed: <span id="chapters-completed">0</span></p>
               <p>Favorites: <span id="favorites-count">0</span></p>
          </div>

          <!-- ğŸ Reward Progress -->
          <div class="settings-group">
               <h3>ğŸ Reward Settings</h3>
               <label><input type="checkbox" id="auto-reward-toggle" /> Enable Streak Rewards</label>
               <p>Next Reward at: <span id="next-reward">10 chapters</span></p>
          </div>

          <!-- ğŸ§© Add-On Features -->
          <div class="settings-group">
               <h3>ğŸ§© Add-On Features</h3>
               <label><input type="checkbox" checked /> Translation</label>
               <label><input type="checkbox" checked /> Capture Mode</label>
               <label><input type="checkbox" /> AI Explanation</label>
               <label><input type="checkbox" /> Image Description</label>
          </div>

          <!-- ğŸ’³ Billing Section -->
          <div class="settings-group">
               <h3>ğŸ’³ Billing & Account</h3>
               <button id="manage-subscription">Manage Subscription</button>
               <button id="sign-out">Sign Out</button>
          </div>

          <!-- ğŸ§  Developer Mode -->
          <div class="settings-group">
               <h3>ğŸ§  Developer Mode</h3>
               <label><input type="checkbox" id="dev-mode-toggle"> Enable Developer Mode</label>
               <button onclick="viewLogs()">View Logs</button>
               <button onclick="simulateFree()">Simulate Free Mode</button>
               <button onclick="simulateTrial()">Simulate Trial</button>
               <button onclick="simulatePremium()">Simulate Premium</button>
          </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="preview-modal" style="display:none;">
    <span id="modal-close">âœ–</span>
    <pre id="modal-text"></pre>
  </div>

  <!-- Footer -->
  <footer>
    <p style="text-align:center; margin-top: 30px;">ğŸ’ªğŸ“šğŸ§ = Empowering minds through books and sound</p>
    <p style="text-align:center;">&copy; 2025 NeurAloud. All rights reserved.</p>
  </footer>

  <!-- Script -->
  <script src="script.js"></script>
  <script>
    if ("serviceWorker" in navigator)
      navigator.serviceWorker.register("service-worker.js")
        .then(r => console.log("âœ… Service Worker registered"))
        .catch(console.error);
  </script>
</body>
</html>
