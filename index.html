<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NeurAloud</title>
  <link rel="stylesheet" href="style.css"/>
  <meta name="description" content="💪📚🎧 = Empowering minds through books and sound"/>
  <link rel="manifest" href="manifest.json"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <span class="logo-title">NeurAloud</span>
    <nav>
      <button onclick="navigate('home')">Home</button>
      <button onclick="navigate('library')">Library</button>
      <button onclick="navigate('listen')">Listen</button>
      <button onclick="navigate('capture')">Capture</button>
      <button onclick="navigate('store')">Store</button>
      <button onclick="navigate('profile')">⚙</button>
    </nav>
  </header>

  <main>
    <!-- Home Section -->
    <section id="home" class="active-section">
      <div class="quad-container">
        <div class="quad-card">📂 Upload</div>
        <div class="quad-card">📖 Continue</div>
        <div class="quad-card">📚 Library</div>
        <div class="quad-card">🛍️ Store</div>
      </div>
    </section>

    <!-- Library Section -->
    <section id="library" class="section">
      <h2>📚 Your Library</h2>
      <div class="library-columns">
        <div class="column" id="playlist-section">
          <h3>🎵 Playlist (Max 10)</h3>
          <ul id="playback-queue"></ul>
          <button id="play-all">▶️ Play Playlist</button>
        </div>
        <div class="column" id="listen-library-section">
          <h3>🗂️ Listen Files</h3>
          <ul id="listen-library-list"></ul>
        </div>
        <div class="column" id="capture-library-section">
          <h3>🎤 Capture Files</h3>
          <ul id="capture-library-list"></ul>
        </div>
      </div>
    </section>

    <!-- Listen Section -->
    <section id="listen" class="section">
      <h2>🎧 Listen</h2>
      <input type="file" id="fileInput" accept=".pdf,.txt,.doc,.docx,.epub" />
      <div id="text-display"></div>
      <div class="controls">
        <select id="tts-engine"></select>
        <select id="voice-select"></select>
        <button id="play-btn">▶️</button>
        <button id="pause-btn">⏸️</button>
        <button id="stop-btn">⏹️</button>
        <button id="loop-btn">🔁</button>
        <button id="save-btn">💾</button>
        <label>Rate: <input type="range" id="rate-slider" min="0.1" max="3" step="0.1"/><span id="rate-val">1.0</span></label>
        <label>Pitch: <input type="range" id="pitch-slider" min="0" max="2" step="0.1"/><span id="pitch-val">1.0</span></label>
      </div>
    </section>

    <!-- Capture Section -->
    <section id="capture" class="section">
      <h2>🎤 Capture</h2>
      <button id="start-capture">🎙️ Start Listening</button>
      <button id="stop-capture">🛑 Stop</button>
      <div id="capture-text-display"></div>
      <div class="controls">
        <select id="capture-tts-engine"></select>
        <select id="capture-voice-select"></select>
        <button id="capture-play-btn">▶️</button>
        <button id="capture-pause-btn">⏸️</button>
        <button id="capture-stop-btn">⏹️</button>
        <button id="capture-save-btn">💾</button>
        <label>Rate: <input type="range" id="capture-rate-slider" min="0.1" max="3" step="0.1"/><span id="capture-rate-val">1.0</span></label>
        <label>Pitch: <input type="range" id="capture-pitch-slider" min="0" max="2" step="0.1"/><span id="capture-pitch-val">1.0</span></label>
      </div>
    </section>

    <!-- Store Section -->
    <section id="store" class="section">
      <h2>🛍️ NeurAloud Store</h2>
      <p>Coming soon: premium voices, languages, and tools!</p>
    </section>

    <!-- Profile / Settings Section -->
    <section id="profile" class="section">
      <h2>⚙ Profile & Settings</h2>
      <div class="settings-block">
        <label><input type="checkbox" id="auto-resume"> Auto Resume</label>
        <label><input type="checkbox" id="dark-mode-toggle"> Dark Mode</label>
        <button id="clear-library">🧹 Clear Library</button>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="preview-modal" style="display:none;">
    <span id="modal-close">✖</span>
    <pre id="modal-text"></pre>
  </div>

  <!-- Footer -->
  <footer>
    <p style="text-align:center; margin-top: 30px;">💪📚🎧 = Empowering minds through books and sound</p>
    <p style="text-align:center;">&copy; 2025 NeurAloud. All rights reserved.</p>
  </footer>

  <!-- Script -->
  <script src="script.js"></script>
  <script>
    if ("serviceWorker" in navigator)
      navigator.serviceWorker.register("service-worker.js")
        .then(r => console.log("✅ Service Worker registered"))
        .catch(console.error);
  </script>
</body>
</html>
